// custom <select> arrow and appearance with an SVG icon
//
// this is inspired from https://github.com/kognise/water.css

// ! :not and calc() are IE9+
// https://caniuse.com/#feat=mdn-css_selectors_not
// https://caniuse.com/#feat=calc
//
// ! 12px = the icon width/height, and must be in pixels because
// calc() is just for values 
// https://css-tricks.com/a-complete-guide-to-calc-in-css/#0-calc-is-for-values
//
// a select with a [multiple] attribute doesn't show an arrow by default
// a select with a [size] attribute gets and arrow on iOS (Webkit) for instance
// but on Chrome and FF desktop
// so, is not safe to style every kind of <select>
//
// remove the arrow and the appearance, especially on Webkit
select:not([size]):not([multiple]) {
  appearance: none;
}

// IE10+
// The '::-ms-expand' CSS pseudo-element is a Microsoft extension that represents
// the button of a <select> menu control that opens or closes the drop-down 
// menu. Typically it is a triangle that points downward.
// https://developer.mozilla.org/en-US/docs/Web/CSS/::-ms-expand
select::-ms-expand {
  display: none;
}

select:not([size]):not([multiple]) {
  background: $bf-white url("data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' height='62.5' width='116.9' fill='%23222'%3E %3Cpath d='M115.3,1.6 C113.7,0 111.1,0 109.5,1.6 L58.5,52.7 L7.4,1.6 C5.8,0 3.2,0 1.6,1.6 C0,3.2 0,5.8 1.6,7.4 L55.5,61.3 C56.3,62.1 57.3,62.5 58.4,62.5 C59.4,62.5 60.5,62.1 61.3,61.3 L115.2,7.4 C116.9,5.8 116.9,3.2 115.3,1.6Z'/%3E %3C/svg%3E") calc(100% - 12px) 50% / 12px no-repeat;

  padding-right: 12px + $bf-spacing-lg-px;
  padding-right: 1.2rem + $bf-spacing-lg-rem;
}

// since '::-ms-expand' is IE10+ only
// and IE8 doesn't recognize the ':not' selector, so didn't get those rulesets
// https://caniuse.com/#feat=mdn-css_selectors_not
//
// let's revert the standard styles on IE9 via CSS hacks
// and hide the custom <select> arrow
// 

// IE9 only hack
// https://gist.github.com/yangfch3/2e48bca9c08bf883131d7917c4892fa2#ie-9-only
@media all and (min-width:0\0) and (min-resolution: .001dpcm) {
  select {
    padding-right: $bf-spacing-md-px;

    // re-set the default properties
    background-image: none;
    background-repeat: repeat;
  }
}
